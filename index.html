<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我们相爱的时间</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Use a romantic/handwritten style font for titles -->
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            overflow-x: hidden;
        }
        .handwritten {
            font-family: 'Ma Shan Zheng', cursive;
        }
        /* Glassmorphism card effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        /* Heartbeat animation */
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.1); }
            28% { transform: scale(1); }
            42% { transform: scale(1.1); }
            70% { transform: scale(1); }
        }
        .heart-beat {
            animation: heartbeat 1.5s infinite;
            display: inline-block;
            color: #ff4d6d;
        }
        
        /* Floating hearts background canvas */
        #heart-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-100 via-red-100 to-rose-200 min-h-screen flex items-center justify-center text-gray-800 relative">

    <!-- Background Canvas for Falling Hearts -->
    <canvas id="heart-canvas"></canvas>

    <div class="container mx-auto px-4 py-8 relative z-10">
        <div class="max-w-md mx-auto glass-card rounded-3xl shadow-2xl overflow-hidden transform hover:scale-[1.01] transition-transform duration-500">
            
            <!-- Photo/Header Section -->
            <div class="relative h-64 bg-rose-300">
                <!-- 这里的 src 已经改为了 love.jpg，请确保图片文件和 html 在同一目录下 -->
                <img src="love.jpg" 
                     alt="Couple" 
                     class="w-full h-full object-cover opacity-90"
                     onerror="this.src='https://placehold.co/600x400/pink/white?text=请放入love.jpg';">
                
                <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end items-center pb-6">
                    <h1 class="text-4xl text-white handwritten drop-shadow-lg mb-1">我们开始扯犊子了</h1>
                    <p class="text-rose-100 text-sm tracking-widest">SINCE 2022.10.16</p>
                </div>
            </div>

            <!-- Content Section -->
            <div class="p-8 text-center">
                
                <!-- Names -->
                <div class="flex justify-center items-center space-x-4 mb-8 text-xl font-bold text-gray-700">
                    <span class="bg-white/50 px-3 py-1 rounded-full text-rose-600">nineTwo</span>
                    <i class="fas fa-heart heart-beat text-2xl"></i>
                    <span class="bg-white/50 px-3 py-1 rounded-full text-rose-600">Sifann</span>
                </div>

                <!-- Timer Grid -->
                <div class="mb-8">
                    <p class="text-gray-500 mb-4 text-sm">腻腻歪歪，已经</p>
                    <div class="grid grid-cols-4 gap-2">
                        <!-- Days -->
                        <div class="flex flex-col p-2 bg-gradient-to-b from-rose-50 to-rose-100 rounded-lg shadow-sm border border-rose-200">
                            <span id="days" class="text-2xl font-bold text-rose-600 font-mono">0</span>
                            <span class="text-xs text-rose-400">天</span>
                        </div>
                        <!-- Hours -->
                        <div class="flex flex-col p-2 bg-gradient-to-b from-rose-50 to-rose-100 rounded-lg shadow-sm border border-rose-200">
                            <span id="hours" class="text-2xl font-bold text-rose-600 font-mono">0</span>
                            <span class="text-xs text-rose-400">小时</span>
                        </div>
                        <!-- Minutes -->
                        <div class="flex flex-col p-2 bg-gradient-to-b from-rose-50 to-rose-100 rounded-lg shadow-sm border border-rose-200">
                            <span id="minutes" class="text-2xl font-bold text-rose-600 font-mono">0</span>
                            <span class="text-xs text-rose-400">分钟</span>
                        </div>
                        <!-- Seconds -->
                        <div class="flex flex-col p-2 bg-gradient-to-b from-rose-50 to-rose-100 rounded-lg shadow-sm border border-rose-200">
                            <span id="seconds" class="text-2xl font-bold text-rose-600 font-mono">0</span>
                            <span class="text-xs text-rose-400">秒</span>
                        </div>
                    </div>
                </div>

                <!-- Quote Section -->
                <div class="relative p-6 bg-rose-50/50 rounded-xl border border-rose-100">
                    <i class="fas fa-quote-left absolute top-2 left-2 text-rose-200 text-xl"></i>
                    <p class="text-gray-600 handwritten text-xl leading-relaxed">
                        将就过吧，还能离咋滴？<br>
                    </p>
                    <i class="fas fa-quote-right absolute bottom-2 right-2 text-rose-200 text-xl"></i>
                </div>
            </div>

            <!-- Footer -->
            <div class="bg-rose-50 p-4 text-center border-t border-rose-100">
                <button onclick="copyLink()" class="text-rose-400 hover:text-rose-600 transition-colors text-sm flex items-center justify-center gap-2 mx-auto">
                    <i class="fas fa-share-alt"></i> 撒一下狗粮
                </button>
                <div id="toast" class="hidden fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm shadow-lg">
                    链接已复制！
                </div>
            </div>
        </div>
    </div>

    <script>
        // ---------------------------------------------------------
        // 1. CONFIGURATION (Set the date here)
        // ---------------------------------------------------------
        const startDateString = "2022-10-16T00:00:00"; 
        
        // ---------------------------------------------------------
        // 2. TIMER LOGIC
        // ---------------------------------------------------------
        function updateTimer() {
            const startDate = new Date(startDateString);
            const now = new Date();
            
            // Calculate difference in milliseconds
            const diff = now - startDate;
            
            if (diff < 0) {
                // Future date handling (optional)
                document.getElementById('days').innerText = "0";
                document.getElementById('hours').innerText = "0";
                document.getElementById('minutes').innerText = "0";
                document.getElementById('seconds').innerText = "0";
                return;
            }

            // Time constants
            const _second = 1000;
            const _minute = _second * 60;
            const _hour = _minute * 60;
            const _day = _hour * 24;

            // Calculate parts
            const days = Math.floor(diff / _day);
            const hours = Math.floor((diff % _day) / _hour);
            const minutes = Math.floor((diff % _hour) / _minute);
            const seconds = Math.floor((diff % _minute) / _second);

            // Update DOM with zero-padding
            document.getElementById('days').innerText = days;
            document.getElementById('hours').innerText = hours < 10 ? '0' + hours : hours;
            document.getElementById('minutes').innerText = minutes < 10 ? '0' + minutes : minutes;
            document.getElementById('seconds').innerText = seconds < 10 ? '0' + seconds : seconds;
        }

        // Run immediately then every second
        updateTimer();
        setInterval(updateTimer, 1000);

        // ---------------------------------------------------------
        // 3. BACKGROUND ANIMATION (Falling Hearts)
        // ---------------------------------------------------------
        const canvas = document.getElementById('heart-canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        let hearts = [];

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }
        
        window.addEventListener('resize', resize);
        resize();

        class Heart {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 15 + 5; // Size between 5 and 20
                this.speedY = Math.random() * 1 + 0.5; // Speed between 0.5 and 1.5
                this.opacity = Math.random() * 0.5 + 0.1;
                this.color = `rgba(255, ${Math.floor(Math.random() * 100 + 100)}, ${Math.floor(Math.random() * 100 + 100)}, ${this.opacity})`;
            }

            update() {
                this.y += this.speedY;
                if (this.y > height) {
                    this.y = -20;
                    this.x = Math.random() * width;
                }
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                // Draw a heart shape
                let topCurveHeight = this.size * 0.3;
                ctx.moveTo(this.x, this.y + topCurveHeight);
                // top left curve
                ctx.bezierCurveTo(
                    this.x, this.y, 
                    this.x - this.size / 2, this.y, 
                    this.x - this.size / 2, this.y + topCurveHeight
                );
                // bottom left curve
                ctx.bezierCurveTo(
                    this.x - this.size / 2, this.y + (this.size + topCurveHeight) / 2, 
                    this.x, this.y + (this.size + topCurveHeight) / 2, 
                    this.x, this.y + this.size
                );
                // bottom right curve
                ctx.bezierCurveTo(
                    this.x, this.y + (this.size + topCurveHeight) / 2, 
                    this.x + this.size / 2, this.y + (this.size + topCurveHeight) / 2, 
                    this.x + this.size / 2, this.y + topCurveHeight
                );
                // top right curve
                ctx.bezierCurveTo(
                    this.x + this.size / 2, this.y, 
                    this.x, this.y, 
                    this.x, this.y + topCurveHeight
                );
                ctx.fill();
            }
        }

        function initHearts() {
            hearts = [];
            // Create 30 hearts
            for (let i = 0; i < 30; i++) {
                hearts.push(new Heart());
            }
        }

        function animateHearts() {
            ctx.clearRect(0, 0, width, height);
            hearts.forEach(heart => {
                heart.update();
                heart.draw();
            });
            requestAnimationFrame(animateHearts);
        }

        initHearts();
        animateHearts();

        // ---------------------------------------------------------
        // 4. UI INTERACTIONS
        // ---------------------------------------------------------
        function copyLink() {
            const url = window.location.href;
            
            // Try to copy to clipboard
            const textarea = document.createElement('textarea');
            textarea.value = url;
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                document.execCommand('copy');
                showToast();
            } catch (err) {
                console.error('Copy failed', err);
            }
            
            document.body.removeChild(textarea);
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('hidden');
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 2000);
        }
    </script>
</body>
</html>